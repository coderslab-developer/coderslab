<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title></title>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link rel="shortcut icon" type="image/png" href="favicon.ico"/>
		<link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.css}"/> 
		<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
		
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<form id="postForm" th:action="@{/posts/save}" th:object="${posts}">
						<div class="form-group">
							<label>Text</label>
							<textarea th:field="*{content}" class="form-control"></textarea>
						</div>
						<button id="savePosts" class="btn btn-success">Save</button>
					</form>
				</div>
				
				<div id="display-content" class="col-md-12">
				
				</div>
			</div>
		</div>

		<script type="text/javascript" th:src="@{/js/jquery-3.2.1.min.js}"></script>
		<script type="text/javascript" th:src="@{/js/bootstrap.js}"></script>
		<script type="text/javascript">
			$(document).ready(function(){
				$('#savePosts').on('click', function(e){
					e.preventDefault();

					$.post($('#postForm').attr("action"), {'content' : $('#content').val()}, function(data){
						console.log(data);
						$('#display-content').html('<pre><code>' + data + '</code></pre>');
					});
				})
			});
		</script>
	</body>
</html>